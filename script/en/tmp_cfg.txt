;****************************
; Main config function
;****************************

*settings
	;stopwatch "config start"
 	
 	;9th for chiru		
	trophy_open 10-%CHIRU_MODE
	
	gosub *update_textspeed

	getscriptnum %Free5

	for %Free2 = 0 to %Free5-1
		getscriptpath $Free3,%Free2,1
		if localisation == $Free3 mov %Free4,%Free2 ;: debug_var %Free4,"curent language num"
	next
	getscriptpath $Free3,%Free4,1
	mov %Free5,%Free4
	dec %Free2

	getrenderernum %Free9
	for %Free6 = 0 to %Free9-1
		getrenderername $Free7,%Free6
	next
	getrenderername $Free7,-1 ;save current renderer in $Free7
	mov %Free9,%Free8
	dec %Free6

	border_pad_push 4

	mov %game_lang_changed,0
	mov %display_mode_changed,0
	mov %wnd_size_changed,0
	mov %renderer_changed,0

	;lsp 2,":c;graphics\colour\black.png",0,0
	;print 10,300
	;_csp 2
	;print 10,100

*settings_elems

	;write_special_text params
	;getparam %lsp_slot,$lsp_type,%lsp_x,%lsp_y,$lsp_text1,$lsp_text2,$lsp_text3,%parent_slot

	;112,187 coord of upper left corner of the window
	mov %cfg_temp1,112+43 ;Distance from elft border of option names
	mov %cfg_temp2,100+4 ;Vertical distance between option names
	mov %cfg_height,45

	;Config Title
	write_special_text 105,"config_title",0,15," " + title_config_txt + " {n}"
	;Config BG
	lsp 451,menu_bg,0,0
	;lsp2 config_main_lsp2,config_main,3840,540,100,100,0 ;Needs to be placed at the virtual center

	;Gray center window
	lsp 440,cfg_menu_wnd,0,%cfg_height

	
	*cfg_rewrite

		;Distance between focus and separator is 4px, height of the whole thing is 100px
		lsp 321,cfg_focus,111,187+42+%cfg_height
		;cell 321,2
		lsp 322,cfg_focus,111,187+42+%cfg_temp2+%cfg_height
		;cell 322,2
		lsp 323,cfg_focus,111,187+42+((%cfg_temp2)*2)+%cfg_height
		;cell 323,2
		lsp 324,cfg_focus,111,187+42+((%cfg_temp2)*3)+%cfg_height
		;cell 324,2
		lsp 325,cfg_focus,111,187+42+((%cfg_temp2)*4)+%cfg_height
		;cell 325,2
		lsp 326,cfg_focus_last,111,187+42+((%cfg_temp2)*5)+%cfg_height
		;cell 326,2

		if %cfg_current_page = 4 lsp 325,cfg_focus_last,111,187+42+((%cfg_temp2)*4)+%cfg_height : _csp 326
		if %cfg_current_page = 5 lsp 325,cfg_focus_last,111,187+42+((%cfg_temp2)*4)+%cfg_height : _csp 326


	lsp 330,cfg_section_btn,155+10,85+%cfg_height
	lsp 331,cfg_section_btn,155+316+10,85+%cfg_height
	lsp 332,cfg_section_btn,155+(316*2)+10,85+%cfg_height
	lsp 333,cfg_section_btn,155+(316*3)+10,85+%cfg_height
	lsp 334,cfg_section_btn,155+(316*4)+10,85+%cfg_height
	write_special_text gen_txt_1,"config_section",155+10-40,84+%cfg_height,cfg_section_1
	write_special_text gen_txt_2,"config_section",(155+316+10)-40,84+%cfg_height,cfg_section_2
	write_special_text gen_txt_3,"config_section",(155+(316*2)+10)-40,84+%cfg_height,cfg_section_3
	write_special_text gen_txt_4,"config_section",(155+(316*3)+10)-40,84+%cfg_height,cfg_section_4
	write_special_text gen_txt_5,"config_section",(155+(316*4)+10)-40,84+%cfg_height,cfg_section_5

	if %cfg_current_page != 1 jumpf ;System
		lsp 330,cfg_section_btn_selected,155+10,85+%cfg_height
		write_special_text 301,"config_option_name",%cfg_temp1,187+62+%cfg_height,cfg_option_1_1
		write_special_text 302,"config_option_name",%cfg_temp1,187+62+%cfg_temp2+%cfg_height,cfg_option_1_2
		write_special_text 303,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*2+%cfg_height,cfg_option_1_3
		write_special_text 304,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*3+%cfg_height,cfg_option_1_4
		write_special_text 305,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*4+%cfg_height,cfg_option_1_5
		write_special_text 306,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*5+%cfg_height,cfg_option_1_6
	~
	if %cfg_current_page != 2 jumpf ;Game
		lsp 331,cfg_section_btn_selected,155+316+10,85+%cfg_height
		write_special_text 301,"config_option_name",%cfg_temp1,187+62+%cfg_height,cfg_option_2_1
		write_special_text 302,"config_option_name",%cfg_temp1,187+62+%cfg_temp2+%cfg_height,cfg_option_2_2
		write_special_text 303,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*2+%cfg_height,cfg_option_2_3
		write_special_text 304,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*3+%cfg_height,cfg_option_2_4
		write_special_text 305,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*4+%cfg_height,cfg_option_2_5
		write_special_text 306,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*5+%cfg_height,cfg_option_2_6
	~
	if %cfg_current_page != 3 jumpf ;Sound
		lsp 332,cfg_section_btn_selected,155+(316*2)+10,85+%cfg_height
		write_special_text 301,"config_option_name",%cfg_temp1,187+62+%cfg_height,cfg_option_3_1
		write_special_text 302,"config_option_name",%cfg_temp1,187+62+%cfg_temp2+%cfg_height,cfg_option_3_2
		write_special_text 303,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*2+%cfg_height,cfg_option_3_3
		write_special_text 304,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*3+%cfg_height,cfg_option_3_4
		write_special_text 305,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*4+%cfg_height,cfg_option_3_5
		write_special_text 306,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*5+%cfg_height,cfg_option_3_6
	~
	if %cfg_current_page != 4 jumpf ;Language
		lsp 333,cfg_section_btn_selected,155+(316*3)+10,85+%cfg_height
		write_special_text 301,"config_option_name",%cfg_temp1,187+62+%cfg_height,cfg_option_4_1
		write_special_text 302,"config_option_name",%cfg_temp1,187+62+%cfg_temp2+%cfg_height,cfg_option_4_2
		write_special_text 303,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*2+%cfg_height,cfg_option_4_3
		write_special_text 304,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*3+%cfg_height,cfg_option_4_4
		write_special_text 305,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*4+%cfg_height,cfg_option_4_5
		_csp 306
	~
	if %cfg_current_page != 5 jumpf ;Graphics
		lsp 334,cfg_section_btn_selected,155+(316*4)+10,85+%cfg_height
		write_special_text 301,"config_option_name",%cfg_temp1,187+62+%cfg_height,cfg_option_5_1
		write_special_text 302,"config_option_name",%cfg_temp1,187+62+%cfg_temp2+%cfg_height,cfg_option_5_2
		write_special_text 303,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*2+%cfg_height,cfg_option_5_3
		write_special_text 304,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*3+%cfg_height,cfg_option_5_4
		write_special_text 305,"config_option_name",%cfg_temp1,187+62+%cfg_temp2*4+%cfg_height,cfg_option_5_5
		_csp 306
	~

    lsp 103,set_cfg_exit,0,0
	lsp 104,set_restore,0,0
	
	align_buttons_l 104
	align_buttons_r 103

		;gosub *settings_video_res REMOVED

		;System
		if %cfg_current_page != 1 jumpf
			gosub *settings_window_resolution : gosub *settings_window_mode
			gosub *settings_render
			gosub *settings_interface_kb_dual
			gosub *settings_menu_anim
			gosub *settings_image_cache
			gosub *settings_wheel_hides_txt
		~

		;Game
		if %cfg_current_page != 2 jumpf
			gosub *settings_textspeed
			gosub *settings_automode_speed
			gosub *settings_rumble_strength
			gosub *settings_chapter_display : gosub *settings_bgm_display
			gosub *settings_skip_unread
			gosub *settings_sexualized_content
		~

		;Sound
		if %cfg_current_page != 3 jumpf
			gosub *settings_bgm_vol
			gosub *settings_sfx_vol
			gosub *settings_voice_vol																																
			lsp 211,cfg_sub_btn,1584-205,187+58+(%cfg_temp2*3)+%cfg_height : write_special_text gen_txt_6,"submenu_btn_title",1584-205,187+58+(%cfg_temp2*3)+%cfg_height,cfg_submenu_btn_txt
			gosub *settings_lower_music_on_d
			gosub *settings_lips
		~

		;Language
		if %cfg_current_page != 4 jumpf
			gosub *settings_game_language
			gosub *settings_voice_language
			gosub *settings_bgm_title_language
			gosub *settings_op_ed_song_subtitles 
			gosub *settings_steam_conventions
		~

		;Graphics
		if %cfg_current_page != 5 jumpf
			gosub *settings_sprite_type
			gosub *settings_textbox
			gosub *settings_bg_type
			gosub *settings_book_mode
			gosub *settings_bg_movement
		~

		;lsp 2,":c;graphics\colour\black.png",0,0
		;print 10,500
		;_csp 2
		;print 10,100

		;stopwatch "config end"

*settings_loop ;START SETTINGS LOOP =========================================================================
		
	btndef ""

	;Sections
	if %cfg_current_page != 1 spbtn 330,330 
	if %cfg_current_page != 2 spbtn 331,331
	if %cfg_current_page != 3 spbtn 332,332
	if %cfg_current_page != 4 spbtn 333,333 
	if %cfg_current_page != 5 spbtn 334,334 
	
	;Exit
	spbtn 103,103
	;Reset
	spbtn 104,104

	;Options
	spbtn 203,203 ;Screen Mode Left
	spbtn 204,204 ;Screen Mode Right
	spbtn 205,205 ;Resolution Left
	spbtn 206,206 ;Resolution Right
	spbtn 207,207 ;Renderer Left
	spbtn 208,208 ;Renderer Right
	spbtn 211,211 ;Keyboard Input
	spbtn 212,212 ;Gamepad Input
	spbtn 213,213 ;Menu Animations
	spbtn 214,214 ;Object Cache
	spbtn 215,215 ;Wheel hides textbox
	
	spbtn 225,225
	spbtn 226,226
	spbtn 227,227

	btndown 1

	btnwait %BtnRes

	isdown %cfg_mouse_click

	if %BtnRes = 330 mov %cfg_current_page,1 : gosub *clear_config_options : goto *cfg_rewrite
	if %BtnRes = 331 mov %cfg_current_page,2 : gosub *clear_config_options : goto *cfg_rewrite
	if %BtnRes = 332 mov %cfg_current_page,3 : gosub *clear_config_options : goto *cfg_rewrite
	if %BtnRes = 333 mov %cfg_current_page,4 : gosub *clear_config_options : goto *cfg_rewrite
	if %BtnRes = 334 mov %cfg_current_page,5 : gosub *clear_config_options : goto *cfg_rewrite

	if %BtnRes != -1 jumpf ;Exit by right-clicking
		if %game_lang_changed != 0 || %display_mode_changed != 0 || %wnd_size_changed != 0 || %renderer_changed != 0 goto *settings_exit_confirm : jumpf
		goto *settings_end 
	~
	if %BtnRes != -10 jumpf ;Exit by ESC
		if %game_lang_changed != 0 || %display_mode_changed != 0 || %wnd_size_changed != 0 || %renderer_changed != 0 goto *settings_exit_confirm : jumpf
		goto *settings_end 
	~
	if %BtnRes != 103 jumpf ;Exit button pressed
		if %game_lang_changed != 0 || %display_mode_changed != 0 || %wnd_size_changed != 0 || %renderer_changed != 0 goto *settings_exit_confirm : jumpf
		goto *settings_end 
	~
	if %BtnRes = 104 gosub *settings_full_reset : goto *cfg_rewrite
	if %BtnRes = 0  goto *settings_loop

if %cfg_current_page != 1 goto *skip_config_page_1 ;System
	;WINDOW MODE SELECTOR
	if %BtnRes != 203 jumpf ;<
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %full_window_auto = 0 mov %full_window_auto,2 : goto *settings_window_mode2
		if %cfg_mouse_click = 0 if %full_window_auto = 1 mov %full_window_auto,0 : goto *settings_window_mode2
		if %cfg_mouse_click = 0 if %full_window_auto = 2 mov %full_window_auto,1 : goto *settings_window_mode2
	~
	if %BtnRes != 204 goto *skip_window_mode ;>
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %full_window_auto = 0 mov %full_window_auto,1 : goto *settings_window_mode2
		if %cfg_mouse_click = 0 if %full_window_auto = 1 mov %full_window_auto,2 : goto *settings_window_mode2
		if %cfg_mouse_click = 0 if %full_window_auto = 2 mov %full_window_auto,0 : goto *settings_window_mode2
		*settings_window_mode2
			if %full_window_auto != 0 jumpf
				inc %display_mode_changed
				operate_config unset,"fullscreen"
				operate_config unset,"window"
				operate_config write,"noval","scale"
				operate_config save
			~
			if %full_window_auto != 1 jumpf
				mov %display_mode_changed,0
				operate_config unset,"fullscreen"
				operate_config write,"noval","window"
				operate_config write,"noval","scale"
				operate_config save
				menu_window
			~
			if %full_window_auto != 2 jumpf
				mov %display_mode_changed,0
				operate_config unset,"window"
				operate_config write,"noval","fullscreen"
				operate_config write,"noval","scale"
				operate_config save
				menu_full	
			~
			gosub *settings_window_mode
	*skip_window_mode
	;END
	

	;WINDOW RESOLUTION SELECTOR
	if %BtnRes != 205 jumpf ;<
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 dec %wnd_size_changed
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1280 mov $window_size,cfg_wnd_size_2560 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1366 mov $window_size,cfg_wnd_size_1280 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1440 mov $window_size,cfg_wnd_size_1366 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1600 mov $window_size,cfg_wnd_size_1440 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1920 mov $window_size,cfg_wnd_size_1600 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_2560 mov $window_size,cfg_wnd_size_1920 : goto *settings_window_resolution2
		;For Custom
		if %cfg_mouse_click = 0 mov $window_size,cfg_wnd_size_1920 : goto *settings_window_resolution2
	~
	if %BtnRes != 206 jumpf ;>
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 inc %wnd_size_changed
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_2560 mov $window_size,cfg_wnd_size_1280 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1920 mov $window_size,cfg_wnd_size_2560 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1600 mov $window_size,cfg_wnd_size_1920 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1440 mov $window_size,cfg_wnd_size_1600 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1366 mov $window_size,cfg_wnd_size_1440 : goto *settings_window_resolution2
		if %cfg_mouse_click = 0 if $window_size = cfg_wnd_size_1280 mov $window_size,cfg_wnd_size_1366 : goto *settings_window_resolution2
		;For Custom
		if %cfg_mouse_click = 0 mov $window_size,cfg_wnd_size_1920 : goto *settings_window_resolution2

		*settings_window_resolution2
			operate_config write,$window_size,"window-width"
			operate_config save
			;lsp 373,set_restarted_apply,0,910
			gosub *settings_window_resolution
	~
	;END

	;RENDERER SELECTOR
	if %BtnRes != 207 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 dec %renderer_changed
		if %cfg_mouse_click = 0 if %Free9 <= 0 getrenderernum %Free9
		if %cfg_mouse_click = 0 dec %Free9
		if %cfg_mouse_click = 0 goto *settings_render2
	~
	if %BtnRes != 208 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 inc %renderer_changed
		if %cfg_mouse_click = 0 getrenderernum %Free6
		if %cfg_mouse_click = 0 dec %Free6
		if %cfg_mouse_click = 0 if %Free9 < 0 mov %Free9,0
		if %cfg_mouse_click = 0 if %Free9 >= %Free6 mov %Free9,-1
		if %cfg_mouse_click = 0 inc %Free9
		if %cfg_mouse_click = 0 goto *settings_render2

		*settings_render2
			getrenderername $Free7,%Free9
			operate_config write,$Free7,"prefer-renderer"
			operate_config unset,"root"
			operate_config save
			;lsp 373,set_restarted_apply,0,910
			gosub *settings_render
	~
	;END


	;INPUT DEVICE
	if %BtnRes != 211 jumpf
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 mov %interface_kb_dual,0 : gosub *settings_interface_kb_dual
	~
	if %BtnRes != 212 jumpf
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 mov %interface_kb_dual,1 : gosub *settings_interface_kb_dual
	~
	;END


	;MENU ANIMATIONS
	if %BtnRes != 213 jumpf
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_menu_anim = 0 mov %cfg_menu_anim,1 : gosub *settings_menu_anim : jumpf
		if %cfg_mouse_click = 0 if %cfg_menu_anim = 1 mov %cfg_menu_anim,0 : gosub *settings_menu_anim : jumpf
	~
	;END

	
	;OBJECT CACHE
	if %BtnRes != 214 jumpf
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %enable_cache = 0 mov %enable_cache,1 : gosub *settings_image_cache : jumpf
		if %cfg_mouse_click = 0 if %enable_cache = 1 mov %enable_cache,0 : gosub *settings_image_cache : jumpf
	~
	;END


	;WHEEL DOWN HIDES TEXTBOX
	if %BtnRes != 215 jumpf
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %hide_textbox = 0 mov %hide_textbox,1 : gosub *settings_wheel_hides_txt : jumpf
		if %cfg_mouse_click = 0 if %hide_textbox = 1 mov %hide_textbox,0 : gosub *settings_wheel_hides_txt : jumpf
	~
	;END

*skip_config_page_1

if %cfg_current_page != 2 goto *skip_config_page_2 ;Game

	;TEXT DISPLAY SPEED
	if %BtnRes != 203 goto *skip_text_speed_cursor
		for %for_index3=0 to 2
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 0 mov %for_index3,0 : break ;Else ends the cycle
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %textspeed2 = 0 if %cfg_mouse_x < 1049+36-23 aspt xpos,203,1049+36-23 : mov %textspeed2,0 : jumpf
			notif %textspeed2 = 10 if %cfg_mouse_x > 1049+36+(56*10)-18 aspt xpos,203,1049+36+(56*10)-18 : mov %textspeed2,10 : jumpf
				notif %textspeed2 = 0  if %cfg_temp_var <= 0+28 aspt xpos,203,1049+36-23 : mov %textspeed2,0 : jumpf
				notif %textspeed2 = 1  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 aspt xpos,203,1049+36+(56*1)-22 : mov %textspeed2,1 : jumpf
				notif %textspeed2 = 2  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 aspt xpos,203,1049+36+(56*2)-22 : mov %textspeed2,2 : jumpf
				notif %textspeed2 = 3  if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 aspt xpos,203,1049+36+(56*3)-22 : mov %textspeed2,3 : jumpf
				notif %textspeed2 = 4  if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 aspt xpos,203,1049+36+(56*4)-22 : mov %textspeed2,4 : jumpf
				notif %textspeed2 = 5  if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 aspt xpos,203,1049+36+(56*5)-22 : mov %textspeed2,5 : jumpf
				notif %textspeed2 = 6  if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 aspt xpos,203,1049+36+(56*6)-22 : mov %textspeed2,6 : jumpf
				notif %textspeed2 = 7  if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 aspt xpos,203,1049+36+(56*7)-22 : mov %textspeed2,7 : jumpf
				notif %textspeed2 = 8  if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 aspt xpos,203,1049+36+(56*8)-22 : mov %textspeed2,8 : jumpf
				notif %textspeed2 = 9  if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 aspt xpos,203,1049+36+(56*9)-22 : mov %textspeed2,9 : jumpf
				notif %textspeed2 = 10 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 aspt xpos,203,1049+36+(56*10)-18 : mov %textspeed2,10 : jumpf
			~
			mov %for_index3,0 ;Infinite Cycle
		next
		gosub *settings_textspeed
	*skip_text_speed_cursor
	if %BtnRes != 204 goto *skip_text_speed
		isdown %cfg_mouse_click ;Checks if mouse is still pressed
		if %cfg_mouse_click = 1 jumpf
		getmousepos %cfg_mouse_x,%cfg_temp_var
		mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
		notif %textspeed2 = 0 if %cfg_mouse_x < 1049+36-23 && %cfg_mouse_x > 1030+36 mov %textspeed2,0 : jumpf
		notif %textspeed2 = 10 if %cfg_mouse_x > 1049+36+(56*10)-18 && %cfg_mouse_x < 1030+36+600 mov %textspeed2,10 : jumpf
			notif %textspeed2 = 0  if %cfg_temp_var <= 0+28 mov %textspeed2,0 : jumpf
			notif %textspeed2 = 1  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 mov %textspeed2,1 : jumpf
			notif %textspeed2 = 2  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 mov %textspeed2,2 : jumpf
			notif %textspeed2 = 3  if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 mov %textspeed2,3 : jumpf
			notif %textspeed2 = 4  if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 mov %textspeed2,4 : jumpf
			notif %textspeed2 = 5  if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 mov %textspeed2,5 : jumpf
			notif %textspeed2 = 6  if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 mov %textspeed2,6 : jumpf
			notif %textspeed2 = 7  if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 mov %textspeed2,7 : jumpf
			notif %textspeed2 = 8  if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 mov %textspeed2,8 : jumpf
			notif %textspeed2 = 9  if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 mov %textspeed2,9 : jumpf
			notif %textspeed2 = 10 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 mov %textspeed2,10 : jumpf
		~
		gosub *settings_textspeed
	*skip_text_speed
	;END


	;AUTOMODE SPEED
	if %BtnRes != 205 goto *skip_automode_speed_cursor
		for %for_index3=0 to 2
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 0 mov %for_index3,0 : break ;Else ends the cycle
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %automodespeed = -116 if %cfg_mouse_x < 1049+36-23 aspt xpos,205,1049+36-23 : mov %automodespeed,-116 : jumpf
			notif %automodespeed = -9 if %cfg_mouse_x > 1049+36+(56*10)-18 aspt xpos,205,1049+36+(56*10)-18 : mov %automodespeed,-9 : jumpf
				notif %automodespeed = -116 if %cfg_temp_var <= 0+28 aspt xpos,205,1049+36-23 : mov %automodespeed,-116 : jumpf
				notif %automodespeed = -90  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 aspt xpos,205,1049+36+(56*1)-22 : mov %automodespeed,-90 : jumpf
				notif %automodespeed = -70  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 aspt xpos,205,1049+36+(56*2)-22 : mov %automodespeed,-70 : jumpf
				notif %automodespeed = -55  if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 aspt xpos,205,1049+36+(56*3)-22 : mov %automodespeed,-55 : jumpf
				notif %automodespeed = -43  if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 aspt xpos,205,1049+36+(56*4)-22 : mov %automodespeed,-43 : jumpf
				notif %automodespeed = -33  if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 aspt xpos,205,1049+36+(56*5)-22 : mov %automodespeed,-33 : jumpf
				notif %automodespeed = -26  if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 aspt xpos,205,1049+36+(56*6)-22 : mov %automodespeed,-26 : jumpf
				notif %automodespeed = -20  if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 aspt xpos,205,1049+36+(56*7)-22 : mov %automodespeed,-20 : jumpf
				notif %automodespeed = -16  if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 aspt xpos,205,1049+36+(56*8)-22 : mov %automodespeed,-16 : jumpf
				notif %automodespeed = -12  if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 aspt xpos,205,1049+36+(56*9)-22 : mov %automodespeed,-12 : jumpf
				notif %automodespeed = -9   if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 aspt xpos,205,1049+36+(56*10)-18 : mov %automodespeed,-9 : jumpf
			~
			mov %for_index3,0 ;Infinite Cycle
		next
		gosub *settings_automode_speed2
	*skip_automode_speed_cursor
		if %BtnRes != 206 goto *skip_automode_speed
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 1 jumpf
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %automodespeed = -116 if %cfg_mouse_x < 1049+36-23 && %cfg_mouse_x > 1030+36 mov %automodespeed,-116 : jumpf
			notif %automodespeed = -9 if %cfg_mouse_x > 1049+36+(56*10)-18 && %cfg_mouse_x < 1030+36+600 aspt xpos,205,1049+36+(56*10)-18 aspt xpos,205,1049+36+(56*10)-18 : mov %automodespeed,-9 : jumpf
				notif %automodespeed = -116 if %cfg_temp_var <= 0+28 aspt xpos,205,1049+36-23 : mov %automodespeed,-116 : jumpf
				notif %automodespeed = -90  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 mov %automodespeed,-90 : jumpf
				notif %automodespeed = -70  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 mov %automodespeed,-70 : jumpf
				notif %automodespeed = -55  if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 mov %automodespeed,-55 : jumpf
				notif %automodespeed = -43  if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 mov %automodespeed,-43 : jumpf
				notif %automodespeed = -33  if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 mov %automodespeed,-33 : jumpf
				notif %automodespeed = -26  if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 mov %automodespeed,-26 : jumpf
				notif %automodespeed = -20  if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 mov %automodespeed,-20 : jumpf
				notif %automodespeed = -16  if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 mov %automodespeed,-16 : jumpf
				notif %automodespeed = -12  if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 mov %automodespeed,-12 : jumpf
				notif %automodespeed = -9   if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 mov %automodespeed,-9 : jumpf
			~
		gosub *settings_automode_speed2
	*skip_automode_speed
	;END

	;RUMBLE STRENGTH
	if %BtnRes != 207 goto *skip_rumble_strength_cursor
		for %for_index3=0 to 2
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 0 mov %for_index3,0 : break ;Else ends the cycle
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %rumble_strength = 0 if %cfg_mouse_x < 1049+36-23 aspt xpos,207,1049+36-23 : mov %rumble_strength,0 : jumpf
			notif %rumble_strength = 50 if %cfg_mouse_x > 1049+36+(56*10)-18 aspt xpos,207,1049+36+(56*10)-18 : mov %rumble_strength,50 : jumpf
				notif %rumble_strength = 0  if %cfg_temp_var <= 0+28 aspt xpos,207,1049+36-23 : mov %rumble_strength,0 : jumpf
				notif %rumble_strength = 4  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 aspt xpos,207,1049+36+(56*1)-22 : mov %rumble_strength,4 : jumpf
				notif %rumble_strength = 8  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 aspt xpos,207,1049+36+(56*2)-22 : mov %rumble_strength,8 : jumpf
				notif %rumble_strength = 12 if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 aspt xpos,207,1049+36+(56*3)-22 : mov %rumble_strength,12 : jumpf
				notif %rumble_strength = 16 if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 aspt xpos,207,1049+36+(56*4)-22 : mov %rumble_strength,16 : jumpf
				notif %rumble_strength = 20 if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 aspt xpos,207,1049+36+(56*5)-22 : mov %rumble_strength,20 : jumpf
				notif %rumble_strength = 26 if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 aspt xpos,207,1049+36+(56*6)-22 : mov %rumble_strength,26 : jumpf
				notif %rumble_strength = 32 if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 aspt xpos,207,1049+36+(56*7)-22 : mov %rumble_strength,32 : jumpf
				notif %rumble_strength = 38 if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 aspt xpos,207,1049+36+(56*8)-22 : mov %rumble_strength,38 : jumpf
				notif %rumble_strength = 44 if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 aspt xpos,207,1049+36+(56*9)-22 : mov %rumble_strength,44 : jumpf
				notif %rumble_strength = 50 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 aspt xpos,207,1049+36+(56*10)-18 : mov %rumble_strength,50 : jumpf
			~
			mov %for_index3,0 ;Infinite Cycle
		next
		rumble 63,500
		gosub *settings_rumble_strength
	*skip_rumble_strength_cursor
		if %BtnRes != 208 goto *skip_rumble_strength
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 1 jumpf
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %rumble_strength = 0 if %cfg_mouse_x < 1049+36-23 && %cfg_mouse_x > 1030+36 mov %rumble_strength,0 : jumpf
			notif %rumble_strength = 50 if %cfg_mouse_x > 1049+36+(56*10)-18 && %cfg_mouse_x < 1030+36+600 mov %rumble_strength,50 : jumpf
				notif %rumble_strength = 0  if %cfg_temp_var <= 0+28 mov %rumble_strength,0 : jumpf
				notif %rumble_strength = 4  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 mov %rumble_strength,4 : jumpf
				notif %rumble_strength = 8  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 mov %rumble_strength,8 : jumpf
				notif %rumble_strength = 12 if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 mov %rumble_strength,12 : jumpf
				notif %rumble_strength = 16 if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 mov %rumble_strength,16 : jumpf
				notif %rumble_strength = 20 if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 mov %rumble_strength,20 : jumpf
				notif %rumble_strength = 26 if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 mov %rumble_strength,26 : jumpf
				notif %rumble_strength = 32 if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 mov %rumble_strength,32 : jumpf
				notif %rumble_strength = 38 if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 mov %rumble_strength,38 : jumpf
				notif %rumble_strength = 44 if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 mov %rumble_strength,44 : jumpf
				notif %rumble_strength = 50 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 mov %rumble_strength,50 : jumpf
			~
		rumble 63,500
		gosub *settings_rumble_strength
	*skip_rumble_strength
	;END

	;SHOW BGM AND CHAPTER NAME
	if %BtnRes != 211 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 0 if %cfg_chapter_display = 0 mov %cfg_chapter_display,1 : gosub *settings_chapter_display : jumpf
		if %cfg_mouse_click = 0 if %cfg_chapter_display = 1 mov %cfg_chapter_display,0 : gosub *settings_chapter_display : jumpf
	~
	if %BtnRes != 212 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 0 if %cfg_bgm_display = 0 mov %cfg_bgm_display,1 : gosub *settings_bgm_display : jumpf
		if %cfg_mouse_click = 0 if %cfg_bgm_display = 1 mov %cfg_bgm_display,0 : gosub *settings_bgm_display : jumpf
	~
	;END


	;SKIP UNREAD DIALOGUES ;For some reason here 1 means false
	if %BtnRes != 213 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 0 if %skip_unread = 0 mov %skip_unread,1 : gosub *settings_skip_unread : jumpf
		if %cfg_mouse_click = 0 if %skip_unread = 1 mov %skip_unread,0 : gosub *settings_skip_unread : jumpf
	~
	;END


	;REMOVE SEXUALIZED CONTENT
	if %BtnRes != 214 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_rm_sex_content_index <= 0 mov %cfg_rm_sex_content_index,4
		if %cfg_mouse_click = 0 dec %cfg_rm_sex_content_index : gosub *settings_sexualized_content
	~
	if %BtnRes != 215 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_rm_sex_content_index >= 3 mov %cfg_rm_sex_content_index,-1
		if %cfg_mouse_click = 0 inc %cfg_rm_sex_content_index : gosub *settings_sexualized_content
	~
	;END

*skip_config_page_2

if %cfg_current_page != 3 goto *skip_config_page_3 ;Sound

	;MUSIC VOLUME
	if %BtnRes != 203 goto *skip_bgm_volume_cursor
		for %for_index3=0 to 2
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 0 mov %for_index3,0 : break ;Else ends the cycle
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %bgm_vol = 0 if %cfg_mouse_x < 1049+36-23 aspt xpos,203,1049+36-23 : mov %bgm_vol,0 : vol_bgm %bgm_current_vol  : jumpf
			notif %bgm_vol = 100 if %cfg_mouse_x > 1049+36+(56*10)-18 aspt xpos,203,1049+36+(56*10)-18 : mov %bgm_vol,100 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 0   if %cfg_temp_var <= 0+28 aspt xpos,203,1049+36-23 : mov %bgm_vol,0 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 10  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 aspt xpos,203,1049+36+(56*1)-22 : mov %bgm_vol,10 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 20  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 aspt xpos,203,1049+36+(56*2)-22 : mov %bgm_vol,20 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 30  if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 aspt xpos,203,1049+36+(56*3)-22 : mov %bgm_vol,30 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 40  if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 aspt xpos,203,1049+36+(56*4)-22 : mov %bgm_vol,40 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 50  if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 aspt xpos,203,1049+36+(56*5)-22 : mov %bgm_vol,50 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 60  if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 aspt xpos,203,1049+36+(56*6)-22 : mov %bgm_vol,60 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 70  if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 aspt xpos,203,1049+36+(56*7)-22 : mov %bgm_vol,70 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 80  if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 aspt xpos,203,1049+36+(56*8)-22 : mov %bgm_vol,80 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 90  if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 aspt xpos,203,1049+36+(56*9)-22 : mov %bgm_vol,90 : vol_bgm %bgm_current_vol : jumpf
				notif %bgm_vol = 100 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 aspt xpos,203,1049+36+(56*10)-18 : mov %bgm_vol,100 : vol_bgm %bgm_current_vol : jumpf
			~
			mov %for_index3,0 ;Infinite Cycle
		next
		gosub *settings_bgm_vol
	*skip_bgm_volume_cursor
		if %BtnRes != 204 goto *skip_bgm_volume
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 1 jumpf
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %bgm_vol = 0 if %cfg_mouse_x < 1049+36-23 && %cfg_mouse_x > 1030+36 aspt xpos,203,1049+36-23 : mov %bgm_vol,0 : vol_bgm %bgm_current_vol  : jumpf
			notif %bgm_vol = 100 if %cfg_mouse_x > 1049+36+(56*10)-18 && %cfg_mouse_x < 1030+36+600 mov %bgm_vol,100 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 0   if %cfg_temp_var <= 0+28 mov %bgm_vol,0 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 10  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 mov %bgm_vol,10 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 20  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 mov %bgm_vol,20 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 30  if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 mov %bgm_vol,30 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 40  if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 mov %bgm_vol,40 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 50  if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 mov %bgm_vol,50 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 60  if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 mov %bgm_vol,60 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 70  if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 mov %bgm_vol,70 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 80  if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 mov %bgm_vol,80 : vol_bgm %bgm_current_vol  : jumpf
				notif %bgm_vol = 90  if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 mov %bgm_vol,90 : vol_bgm %bgm_current_vol : jumpf
				notif %bgm_vol = 100 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 mov %bgm_vol,100 : vol_bgm %bgm_current_vol : jumpf
			~
		gosub *settings_bgm_vol
	*skip_bgm_volume
	;END

	;lsp 225,cfg_preview_btn,1030+36-36+42-60,187+117-5
	;if %BtnRes != 225 jumpf
	;	isdown %cfg_mouse_click
	;	if %cfg_mouse_click = 1 lsp 225,cfg_preview_btn_pressed,1030+36-36+42-60+2,187+117-5+2
	;	if %cfg_mouse_click = 0 seplay 10,1030,100
	;	if %cfg_mouse_click = 0 lsp 225,cfg_preview_btn,1030+36-36+42-60,187+117-5
	;~

	;SOUND EFFECT VOLUME
	if %BtnRes != 205 goto *skip_se_volume_cursor
		for %for_index3=0 to 2
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 0 mov %for_index3,0 : break ;Else ends the cycle
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %sfx_vol = 0 if %cfg_mouse_x < 1049+36-23 aspt xpos,205,1049+36-23 : mov %sfx_vol,0 : effect_vol : jumpf
			notif %sfx_vol = 100 if %cfg_mouse_x > 1049+36+(56*10)-18 aspt xpos,205,1049+36+(56*10)-18 : mov %sfx_vol,100 : effect_vol : jumpf
				notif %sfx_vol = 0 if %cfg_temp_var <= 0+28 aspt xpos,205,1049+36-23 : mov %sfx_vol,0 : effect_vol : jumpf
				notif %sfx_vol = 10 if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 aspt xpos,205,1049+36+(56*1)-22 : mov %sfx_vol,10 : effect_vol : jumpf
				notif %sfx_vol = 20 if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 aspt xpos,205,1049+36+(56*2)-22 : mov %sfx_vol,20 : effect_vol : jumpf
				notif %sfx_vol = 30 if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 aspt xpos,205,1049+36+(56*3)-22 : mov %sfx_vol,30 : effect_vol : jumpf
				notif %sfx_vol = 40 if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 aspt xpos,205,1049+36+(56*4)-22 : mov %sfx_vol,40 : effect_vol : jumpf
				notif %sfx_vol = 50 if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 aspt xpos,205,1049+36+(56*5)-22 : mov %sfx_vol,50 : effect_vol : jumpf
				notif %sfx_vol = 60 if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 aspt xpos,205,1049+36+(56*6)-22 : mov %sfx_vol,60 : effect_vol : jumpf
				notif %sfx_vol = 70 if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 aspt xpos,205,1049+36+(56*7)-22 : mov %sfx_vol,70 : effect_vol : jumpf
				notif %sfx_vol = 80 if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 aspt xpos,205,1049+36+(56*8)-22 : mov %sfx_vol,80 : effect_vol : jumpf
				notif %sfx_vol = 90 if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 aspt xpos,205,1049+36+(56*9)-22 : mov %sfx_vol,90 : effect_vol : jumpf
				notif %sfx_vol = 100 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 aspt xpos,205,1049+36+(56*10)-18 : mov %sfx_vol,100 : effect_vol : jumpf
			~
			mov %for_index3,0 ;Infinite Cycle
		next
		gosub *settings_sfx_vol
	*skip_se_volume_cursor
		if %BtnRes != 206 goto *skip_se_volume
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 1 jumpf
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %sfx_vol = 0 if %cfg_mouse_x < 1049+36-23 && %cfg_mouse_x > 1030+36 mov %sfx_vol,0 : effect_vol : jumpf
			notif %sfx_vol = 100 if %cfg_mouse_x > 1049+36+(56*10)-18 && %cfg_mouse_x < 1030+36+600 mov %sfx_vol,100 : effect_vol : jumpf
				notif %sfx_vol = 0 if %cfg_temp_var <= 0+28 mov %sfx_vol,0 : effect_vol : jumpf
				notif %sfx_vol = 10 if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 mov %sfx_vol,10 : effect_vol : jumpf
				notif %sfx_vol = 20 if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 mov %sfx_vol,20 : effect_vol : jumpf
				notif %sfx_vol = 30 if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 mov %sfx_vol,30 : effect_vol : jumpf
				notif %sfx_vol = 40 if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 mov %sfx_vol,40 : effect_vol : jumpf
				notif %sfx_vol = 50 if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 mov %sfx_vol,50 : effect_vol : jumpf
				notif %sfx_vol = 60 if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 mov %sfx_vol,60 : effect_vol : jumpf
				notif %sfx_vol = 70 if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 mov %sfx_vol,70 : effect_vol : jumpf
				notif %sfx_vol = 80 if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 mov %sfx_vol,80 : effect_vol : jumpf
				notif %sfx_vol = 90 if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 mov %sfx_vol,90 : effect_vol : jumpf
				notif %sfx_vol = 100 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 mov %sfx_vol,100 : effect_vol : jumpf
			~
		gosub *settings_sfx_vol
	*skip_se_volume
	;END


	;VOICE VOLUME
	if %BtnRes != 207 goto *skip_voice_volume_cursor
		for %for_index3=0 to 2
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 0 mov %for_index3,0 : break ;Else ends the cycle
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %dlg_vol = 0 if %cfg_mouse_x < 1049+36-23 aspt xpos,207,1049+36-23 : mov %dlg_vol,0 : voice_vol : jumpf
			notif %dlg_vol = 100 if %cfg_mouse_x > 1049+36+(56*10)-18 aspt xpos,207,1049+36+(56*10)-18: mov %dlg_vol,100 : voice_vol : jumpf
				notif %dlg_vol = 0   if %cfg_temp_var <= 0+28 aspt xpos,207,1049+36-23 : mov %dlg_vol,0 : voice_vol : jumpf
				notif %dlg_vol = 10  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 aspt xpos,207,1049+36+(56*1)-22 : mov %dlg_vol,10 : voice_vol : jumpf
				notif %dlg_vol = 20  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 aspt xpos,207,1049+36+(56*2)-22 : mov %dlg_vol,20 : voice_vol : jumpf
				notif %dlg_vol = 30  if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 aspt xpos,207,1049+36+(56*3)-22 : mov %dlg_vol,30 : voice_vol : jumpf
				notif %dlg_vol = 40  if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 aspt xpos,207,1049+36+(56*4)-22 : mov %dlg_vol,40 : voice_vol : jumpf
				notif %dlg_vol = 50  if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 aspt xpos,207,1049+36+(56*5)-22 : mov %dlg_vol,50 : voice_vol : jumpf
				notif %dlg_vol = 60  if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 aspt xpos,207,1049+36+(56*6)-22 : mov %dlg_vol,60 : voice_vol : jumpf
				notif %dlg_vol = 70  if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 aspt xpos,207,1049+36+(56*7)-22 : mov %dlg_vol,70 : voice_vol : jumpf
				notif %dlg_vol = 80  if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 aspt xpos,207,1049+36+(56*8)-22 : mov %dlg_vol,80 : voice_vol : jumpf
				notif %dlg_vol = 90  if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 aspt xpos,207,1049+36+(56*9)-22 : mov %dlg_vol,90 : voice_vol : jumpf
				notif %dlg_vol = 100 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 aspt xpos,207,1049+36+(56*10)-18 : mov %dlg_vol,100 : voice_vol : jumpf
			~
			mov %for_index3,0 ;Infinite Cycle
		next
		gosub *settings_voice_vol
	*skip_voice_volume_cursor
		if %BtnRes != 208 goto *skip_voice_volume
			isdown %cfg_mouse_click ;Checks if mouse is still pressed
			if %cfg_mouse_click = 1 jumpf
			getmousepos %cfg_mouse_x,%cfg_temp_var
			mov %cfg_temp_var,%cfg_mouse_x-(1049+36)
			notif %dlg_vol = 0 if %cfg_mouse_x < 1049+36-23 && %cfg_mouse_x > 1030+36 mov %dlg_vol,0 : voice_vol : jumpf
			notif %dlg_vol = 100 if %cfg_mouse_x > 1049+36+(56*10)-18 && %cfg_mouse_x < 1030+36+600 mov %dlg_vol,100 : voice_vol : jumpf
				notif %dlg_vol = 0   if %cfg_temp_var <= 0+28 aspt xpos,207,1049+36-23 : mov %dlg_vol,0 : voice_vol : jumpf
				notif %dlg_vol = 10  if %cfg_temp_var > 56*0+28 && %cfg_temp_var <= 56*1+28 mov %dlg_vol,10 : voice_vol : jumpf
				notif %dlg_vol = 20  if %cfg_temp_var > 56*1+28 && %cfg_temp_var <= 56*2+28 mov %dlg_vol,20 : voice_vol : jumpf
				notif %dlg_vol = 30  if %cfg_temp_var > 56*2+28 && %cfg_temp_var <= 56*3+28 mov %dlg_vol,30 : voice_vol : jumpf
				notif %dlg_vol = 40  if %cfg_temp_var > 56*3+28 && %cfg_temp_var <= 56*4+28 mov %dlg_vol,40 : voice_vol : jumpf
				notif %dlg_vol = 50  if %cfg_temp_var > 56*4+28 && %cfg_temp_var <= 56*5+28 mov %dlg_vol,50 : voice_vol : jumpf
				notif %dlg_vol = 60  if %cfg_temp_var > 56*5+28 && %cfg_temp_var <= 56*6+28 mov %dlg_vol,60 : voice_vol : jumpf
				notif %dlg_vol = 70  if %cfg_temp_var > 56*6+28 && %cfg_temp_var <= 56*7+28 mov %dlg_vol,70 : voice_vol : jumpf
				notif %dlg_vol = 80  if %cfg_temp_var > 56*7+28 && %cfg_temp_var <= 56*8+28 mov %dlg_vol,80 : voice_vol : jumpf
				notif %dlg_vol = 90  if %cfg_temp_var > 56*8+28 && %cfg_temp_var <= 56*9+28 mov %dlg_vol,90 : voice_vol : jumpf
				notif %dlg_vol = 100 if %cfg_temp_var > 56*9+28 && %cfg_temp_var <= 56*10 mov %dlg_vol,100 : voice_vol : jumpf
			~
		gosub *settings_voice_vol
	*skip_voice_volume
	;END


	;DISABLE SPECIFIC CHAT VOICES
	if %BtnRes != 211 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 1 lsp 211,cfg_sub_btn_pressed,1584-205,187+58+(%cfg_temp2*3)+%cfg_height : cell 211,2
		if %cfg_mouse_click = 0 lsp 211,cfg_sub_btn,1584-205,187+58+(%cfg_temp2*3)+%cfg_height : goto *settings_voices_submenu
	~
	;END


	;LOWER MUSIC DURING DIALOGUES
	if %BtnRes != 212 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 0 if %cfg_lower_music_on_d = 0 mov %cfg_lower_music_on_d,1 : gosub *settings_lower_music_on_d : jumpf
		if %cfg_mouse_click = 0 if %cfg_lower_music_on_d = 1 mov %cfg_lower_music_on_d,0 : gosub *settings_lower_music_on_d : vol_bgm %bgm_vol : jumpf
	~
	;END


	;LIP SYNC
	if %BtnRes != 213 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 0 if %animated_lips = 0 mov %animated_lips,1 : gosub *settings_lips : jumpf
		if %cfg_mouse_click = 0 if %animated_lips = 1 mov %animated_lips,0
			lips_channel 0,"non" : lips_channel 1,"non" : lips_channel 2,"non" : lips_channel 43,"non"
			lips_channel 44,"non" : lips_channel 45,"non" : lips_channel 46,"non"
			gosub *settings_lips
		jumpf
	~
	;END


*skip_config_page_3


if %cfg_current_page != 4 goto *skip_config_page_4 ;Language

	;GAME LANGUAGE
	if %BtnRes != 203 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 dec %game_lang_changed
		if %cfg_mouse_click = 0 if %Free5 <= 0 getscriptnum %Free5
		if %cfg_mouse_click = 0 dec %Free5
		if %cfg_mouse_click = 0 goto *settings_game_language2
	~
	if %BtnRes != 204 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 inc %game_lang_changed
		if %cfg_mouse_click = 0 if %Free5 >= %Free2 mov %Free5,-1
		if %cfg_mouse_click = 0 inc %Free5
		if %cfg_mouse_click = 0 goto *settings_game_language2
		
		*settings_game_language2
			getscriptpath $Free4,%Free5
			getscriptpath $Free3,%Free5,1
			operate_config write,$Free4,"game-script"
			operate_config unset,"root"
			operate_config save 
			;lsp 373,set_restarted_apply,0,910
		gosub *settings_game_language
	~
	;END


	;VOICE LANGUAGE
	if %BtnRes != 205 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_voice_language <= 1 mov %cfg_voice_language,3
		if %cfg_mouse_click = 0 dec %cfg_voice_language : gosub *settings_voice_language
	~
	if %BtnRes != 206 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_voice_language >= 2 mov %cfg_voice_language,0
		if %cfg_mouse_click = 0 inc %cfg_voice_language : gosub *settings_voice_language
	~
	;END


	;MUSIC TITLES
	if %BtnRes != 207 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %bgm_title_language = 1 mov %bgm_title_language,5
		if %cfg_mouse_click = 0 dec %bgm_title_language : gosub *settings_bgm_title_language
	~
	if %BtnRes != 208 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %bgm_title_language = 4 mov %bgm_title_language,0
		if %cfg_mouse_click = 0 inc %bgm_title_language : gosub *settings_bgm_title_language
	~
	;END


	;SONG SUBTITLES
	if %BtnRes != 211 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %op_ed_song_subtitles = 1 mov %op_ed_song_subtitles,5
		if %cfg_mouse_click = 0 dec %op_ed_song_subtitles : gosub *settings_op_ed_song_subtitles
	~
	if %BtnRes != 212 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %op_ed_song_subtitles = 4 mov %op_ed_song_subtitles,0
		if %cfg_mouse_click = 0 inc %op_ed_song_subtitles : gosub *settings_op_ed_song_subtitles
	~
	;END


	;STEAM CONVENTIONS
	if %BtnRes != 213 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 0 if %cfg_steam_conventions = 0 mov %cfg_steam_conventions,1 : d_condition 0,1 : d_condition 1,1 : gosub *settings_steam_conventions : jumpf
		if %cfg_mouse_click = 0 if %cfg_steam_conventions = 1 mov %cfg_steam_conventions,0 : d_condition 0,0 : d_condition 0,0 : gosub *settings_steam_conventions : jumpf
	~
	;END


*skip_config_page_4


if %cfg_current_page != 5 goto *skip_config_page_5 ;Graphics

	;SPRITE TYPE
	if %BtnRes != 203 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_sprite_type_index <= 1 mov %cfg_sprite_type_index,4
		if %cfg_mouse_click = 0 dec %cfg_sprite_type_index : gosub *settings_sprite_type
	~
	if %BtnRes != 204 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_sprite_type_index >= 3 mov %cfg_sprite_type_index,0
		if %cfg_mouse_click = 0 inc %cfg_sprite_type_index : gosub *settings_sprite_type
	~
	;END


	;TEXTBOX TYPE
	if %BtnRes != 205 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %msgwnd_type <= 0 mov %msgwnd_type,5
		if %cfg_mouse_click = 0 dec %msgwnd_type : gosub *settings_textbox
	~
	if %BtnRes != 206 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %msgwnd_type >= 4 mov %msgwnd_type,-1
		if %cfg_mouse_click = 0 inc %msgwnd_type : gosub *settings_textbox
	~
	;END


	;BACKGROUND TYPE
	if %BtnRes != 207 jumpf ;left
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_bg_type_index <= 1 mov %cfg_bg_type_index,3
		if %cfg_mouse_click = 0 dec %cfg_bg_type_index : gosub *settings_bg_type
	~
	if %BtnRes != 208 jumpf ;right
		isdown %cfg_mouse_click
		if %cfg_mouse_click = 0 if %cfg_bg_type_index >= 2 mov %cfg_bg_type_index,0
		if %cfg_mouse_click = 0 inc %cfg_bg_type_index : gosub *settings_bg_type
	~
	;END

	;BOOK MODE
	if %BtnRes != 211 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 0 if %cfg_book_mode = 0 mov %cfg_book_mode,1 : gosub *set_name_window_non : gosub *settings_book_mode : debug_str $log_ch_prev : jumpf
		if %cfg_mouse_click = 0 if %cfg_book_mode = 1 mov %cfg_book_mode,0 : gosub *set_name_window : gosub *settings_book_mode : debug_str $log_ch_prev : jumpf
	~
	;END


	;MOVING BACKGROUNDS
	if %BtnRes != 212 jumpf
		isdown %cfg_mouse_click 
		if %cfg_mouse_click = 0 if %cfg_bg_movement = 0 mov %cfg_bg_movement,1 : gosub *settings_bg_movement : jumpf
		if %cfg_mouse_click = 0 if %cfg_bg_movement = 1 mov %cfg_bg_movement,0 : gosub *settings_bg_movement : jumpf
	~
	;END


*skip_config_page_5


goto *settings_loop ;END SETTINGS LOOP =========================================================================

;SETTINGS SUBS =================================================================================================

*settings_window_mode
	if %full_window_auto = 1 write_special_text 311,"config_option",900,187+64+%cfg_height,display_mode_windowed : jumpf
	if %full_window_auto = 2 write_special_text 311,"config_option",900,187+64+%cfg_height,display_mode_fullscreen : jumpf
	if %full_window_auto = 0 write_special_text 311,"config_option",900,187+64+%cfg_height,display_mode_auto : jumpf 
	~
	lsp 203,left_arrow,900,187+60+%cfg_height
	lsp 204,right_arrow,1207,187+60+%cfg_height
return

*settings_window_resolution
	if $window_size = cfg_wnd_size_1280 write_special_text 312,"config_option",1317,187+64+%cfg_height,cfg_wnd_size_1280+"x"+cfg_wnd_size_720 : jumpf
	if $window_size = cfg_wnd_size_1366 write_special_text 312,"config_option",1317,187+64+%cfg_height,cfg_wnd_size_1366+"x"+cfg_wnd_size_768 : jumpf
	if $window_size = cfg_wnd_size_1440 write_special_text 312,"config_option",1317,187+64+%cfg_height,cfg_wnd_size_1440+"Ñ…"+cfg_wnd_size_810 : jumpf
	if $window_size = cfg_wnd_size_1600 write_special_text 312,"config_option",1317,187+64+%cfg_height,cfg_wnd_size_1600+"x"+cfg_wnd_size_900 : jumpf
	if $window_size = cfg_wnd_size_1920 write_special_text 312,"config_option",1317,187+64+%cfg_height,cfg_wnd_size_1920+"x"+cfg_wnd_size_1080 : jumpf
	if $window_size = cfg_wnd_size_2560 write_special_text 312,"config_option",1317,187+64+%cfg_height,cfg_wnd_size_2560+"x"+cfg_wnd_size_1440 : jumpf
	write_special_text 312,"config_option",1317,187+64+%cfg_height,cfg_wnd_size_custom
	~
	lsp 205,left_arrow,1317,187+60+%cfg_height
	lsp 206,right_arrow,1624,187+60+%cfg_height
return

*settings_render
	if $Free7 == "GL2" mov $Free7,"OpenGL 2.1" : jumpf
	if $Free7 == "GLES2" mov $Free7,"OpenGLES 2" : jumpf
	if $Free7 == "GLES3" mov $Free7,"OpenGLES 3" : jumpf
	if $Free7 == "ANGLE2" mov $Free7,"ANGLE 2" : jumpf
	if $Free7 == "ANGLE3" mov $Free7,"ANGLE 3" : jumpf
	~
	write_special_text 313,"config_option",1317,187+64+%cfg_temp2+%cfg_height,$Free7
	lsp 207,left_arrow,1317,187+60+%cfg_temp2+%cfg_height
	lsp 208,right_arrow,1624,187+60+%cfg_temp2+%cfg_height
return

*settings_interface_kb_dual
	lsph 209,cfg_keyboard_btn_selected,1347,187+53+(%cfg_temp2*2)+%cfg_height
	lsph 210,cfg_gamepad_btn_selected,1584,187+53+(%cfg_temp2*2)+%cfg_height
	lsp 211,cfg_keyboard_btn,1347,187+53+(%cfg_temp2*2)+%cfg_height
	lsp 212,cfg_gamepad_btn,1584,187+53+(%cfg_temp2*2)+%cfg_height
	if %interface_kb_dual = 0 vsp 209,1 : vsp 210,0
	if %interface_kb_dual = 1 vsp 209,0 : vsp 210,1
return

*settings_menu_anim
	if %cfg_menu_anim = 0 lsp 213,cfg_switch_btn,1465,187+53+(%cfg_temp2*3)+%cfg_height : return
	if %cfg_menu_anim = 1 lsp 213,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*3)+%cfg_height : return
return

*settings_image_cache
	if %enable_cache = 0 lsp 214,cfg_switch_btn,1465,187+53+(%cfg_temp2*4)+%cfg_height : return
	if %enable_cache = 1 lsp 214,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*4)+%cfg_height : return
return

*settings_wheel_hides_txt
	if %hide_textbox = 0 lsp 215,cfg_switch_btn,1465,187+53+(%cfg_temp2*5)+%cfg_height : return
	if %hide_textbox = 1 lsp 215,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*5)+%cfg_height : return
return

*settings_textspeed
	lsp 204,cfg_slider,1030+36,187+117 ;width 600 - usable 564 - 1px = 0.18%

		if %textspeed2 = 0 mov %cfg_txt_speed_cursor_x,1049+36+(56*0)-23 : jumpf
		if %textspeed2 = 1 mov %cfg_txt_speed_cursor_x,1049+36+(56*1)-22 : jumpf
		if %textspeed2 = 2 mov %cfg_txt_speed_cursor_x,1049+36+(56*2)-22 : jumpf
		if %textspeed2 = 3 mov %cfg_txt_speed_cursor_x,1049+36+(56*3)-22 : jumpf
		if %textspeed2 = 4 mov %cfg_txt_speed_cursor_x,1049+36+(56*4)-22 : jumpf
		if %textspeed2 = 5 mov %cfg_txt_speed_cursor_x,1049+36+(56*5)-22 : jumpf
		if %textspeed2 = 6 mov %cfg_txt_speed_cursor_x,1049+36+(56*6)-22 : jumpf
		if %textspeed2 = 7 mov %cfg_txt_speed_cursor_x,1049+36+(56*7)-22 : jumpf
		if %textspeed2 = 8 mov %cfg_txt_speed_cursor_x,1049+36+(56*8)-22 : jumpf
		if %textspeed2 = 9 mov %cfg_txt_speed_cursor_x,1049+36+(56*9)-22 : jumpf
		if %textspeed2 = 10 mov %cfg_txt_speed_cursor_x,1049+36+(56*10)-18 : jumpf
		~

	lsp 203,cfg_slider_cursor,%cfg_txt_speed_cursor_x,187+117-20 ;1048+36-22 starting x pos
	;itoa $temp_var,%textspeed2
	;write_special_text 200,"slider_index",%cfg_txt_speed_cursor_x-8,187+117-20+3,%textspeed2

	gosub *update_textspeed
return

*settings_automode_speed2
	automode_time %automodespeed
	gosub *settings_automode_speed
return

*settings_automode_speed
	lsp 206,cfg_slider,1030+36,187+117+106 ;width 600 - usable 564 - 1px = 0.18%

		if %automodespeed = -116 mov %cfg_automode_speed_cursor_x,1049+36+(56*0)-23 : jumpf
		if %automodespeed = -90 mov %cfg_automode_speed_cursor_x,1049+36+(56*1)-22 : jumpf
		if %automodespeed = -70 mov %cfg_automode_speed_cursor_x,1049+36+(56*2)-22 : jumpf
		if %automodespeed = -55 mov %cfg_automode_speed_cursor_x,1049+36+(56*3)-22 : jumpf
		if %automodespeed = -43 mov %cfg_automode_speed_cursor_x,1049+36+(56*4)-22 : jumpf
		if %automodespeed = -33 mov %cfg_automode_speed_cursor_x,1049+36+(56*5)-22 : jumpf
		if %automodespeed = -26 mov %cfg_automode_speed_cursor_x,1049+36+(56*6)-22 : jumpf
		if %automodespeed = -20 mov %cfg_automode_speed_cursor_x,1049+36+(56*7)-22 : jumpf
		if %automodespeed = -16 mov %cfg_automode_speed_cursor_x,1049+36+(56*8)-22 : jumpf
		if %automodespeed = -12 mov %cfg_automode_speed_cursor_x,1049+36+(56*9)-22 : jumpf
		if %automodespeed = -9  mov %cfg_automode_speed_cursor_x,1049+36+(56*10)-18 : jumpf
		~

	lsp 205,cfg_slider_cursor,%cfg_automode_speed_cursor_x,187+117-20+106  ;1048+36-22 starting x pos

return

*settings_rumble_strength
	lsp 208,cfg_slider,1030+36,187+117+(106*2) ;width 600 - usable 564 - 1px = 0.18%

		if %rumble_strength = 0 mov %cfg_rumble_strength_cursor_x,1049+36+(56*0)-23 : jumpf
		if %rumble_strength = 4 mov %cfg_rumble_strength_cursor_x,1049+36+(56*1)-22 : jumpf
		if %rumble_strength = 8 mov %cfg_rumble_strength_cursor_x,1049+36+(56*2)-22 : jumpf
		if %rumble_strength = 12 mov %cfg_rumble_strength_cursor_x,1049+36+(56*3)-22 : jumpf
		if %rumble_strength = 16 mov %cfg_rumble_strength_cursor_x,1049+36+(56*4)-22 : jumpf
		if %rumble_strength = 20 mov %cfg_rumble_strength_cursor_x,1049+36+(56*5)-22 : jumpf
		if %rumble_strength = 26 mov %cfg_rumble_strength_cursor_x,1049+36+(56*6)-22 : jumpf
		if %rumble_strength = 32 mov %cfg_rumble_strength_cursor_x,1049+36+(56*7)-22 : jumpf
		if %rumble_strength = 38 mov %cfg_rumble_strength_cursor_x,1049+36+(56*8)-22 : jumpf
		if %rumble_strength = 44 mov %cfg_rumble_strength_cursor_x,1049+36+(56*9)-22 : jumpf
		if %rumble_strength = 50 mov %cfg_rumble_strength_cursor_x,1049+36+(56*10)-18 : jumpf
		~

	lsp 207,cfg_slider_cursor,%cfg_rumble_strength_cursor_x,187+117-20+(106*2) ;1048+36-22 starting x pos
return

*settings_chapter_display
	if %cfg_chapter_display = 0 lsp 211,cfg_show_chapter_btn,1347,187+53+(%cfg_temp2*3)+%cfg_height : return
	if %cfg_chapter_display = 1 lsp 211,cfg_hide_chapter_btn,1347,187+53+(%cfg_temp2*3)+%cfg_height : return
return

*settings_bgm_display
	if %cfg_bgm_display = 0 lsp 212,cfg_show_bgm_btn,1584,187+53+(%cfg_temp2*3)+%cfg_height : return
	if %cfg_bgm_display = 1 lsp 212,cfg_hide_bgm_btn,1584,187+53+(%cfg_temp2*3)+%cfg_height : return
return

*settings_skip_unread ;For some reason when the variable is 1 the feature is off
	if %skip_unread = 1 lsp 213,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*4)+%cfg_height : jumpf
	if %skip_unread = 0 lsp 213,cfg_switch_btn,1465,187+53+(%cfg_temp2*4)+%cfg_height : jumpf
	~
	if %skip_unread == 1 skip_unread 0 : return
    if %skip_unread == 0 skip_unread 1 : return
return

*settings_sexualized_content
	if %cfg_rm_sex_content_index = 0 write_special_text 311,"config_option_large",1317-200,187+64+(%cfg_temp2*5)+%cfg_height,cfg_sex_original : mov %cfg_rm_sex_text_content,0 : mov %cfg_rm_sex_graphic_content,0 : jumpf
	if %cfg_rm_sex_content_index = 1 write_special_text 311,"config_option_large",1317-200,187+64+(%cfg_temp2*5)+%cfg_height,cfg_sex_no_text : mov %cfg_rm_sex_text_content,1 : mov %cfg_rm_sex_graphic_content,0 : jumpf
	if %cfg_rm_sex_content_index = 2 write_special_text 311,"config_option_large",1317-200,187+64+(%cfg_temp2*5)+%cfg_height,cfg_sex_no_img : mov %cfg_rm_sex_text_content,0 : mov %cfg_rm_sex_graphic_content,1 : jumpf
	if %cfg_rm_sex_content_index = 3 write_special_text 311,"config_option_large",1317-200,187+64+(%cfg_temp2*5)+%cfg_height,cfg_sex_remove_all : mov %cfg_rm_sex_text_content,1 : mov %cfg_rm_sex_graphic_content,1 : jumpf
	~
	lsp 214,left_arrow,1317-200,187+60+(%cfg_temp2*5)+%cfg_height
	lsp 215,right_arrow,1624,187+60+(%cfg_temp2*5)+%cfg_height
return

*settings_bgm_vol
	lsp 204,cfg_slider,1030+36,187+117 ;width 600 - usable 564 - 1px = 0.18%

		if %bgm_vol = 0 mov %cfg_bgm_volume_cursor_x,1049+36+(56*0)-23 : jumpf
		if %bgm_vol = 10 mov %cfg_bgm_volume_cursor_x,1049+36+(56*1)-22 : jumpf
		if %bgm_vol = 20 mov %cfg_bgm_volume_cursor_x,1049+36+(56*2)-22 : jumpf
		if %bgm_vol = 30 mov %cfg_bgm_volume_cursor_x,1049+36+(56*3)-22 : jumpf
		if %bgm_vol = 40 mov %cfg_bgm_volume_cursor_x,1049+36+(56*4)-22 : jumpf
		if %bgm_vol = 50 mov %cfg_bgm_volume_cursor_x,1049+36+(56*5)-22 : jumpf
		if %bgm_vol = 60 mov %cfg_bgm_volume_cursor_x,1049+36+(56*6)-22 : jumpf
		if %bgm_vol = 70 mov %cfg_bgm_volume_cursor_x,1049+36+(56*7)-22 : jumpf
		if %bgm_vol = 80 mov %cfg_bgm_volume_cursor_x,1049+36+(56*8)-22 : jumpf
		if %bgm_vol = 90 mov %cfg_bgm_volume_cursor_x,1049+36+(56*9)-22 : jumpf
		if %bgm_vol = 100 mov %cfg_bgm_volume_cursor_x,1049+36+(56*10)-18 : jumpf
		~

	lsp 203,cfg_slider_cursor,%cfg_bgm_volume_cursor_x,187+117-20 ;1048+36-22 starting x pos
return

*settings_sfx_vol
	lsp 206,cfg_slider,1030+36,187+117+106 ;width 600 - usable 564 - 1px = 0.18%

		if %sfx_vol = 0 mov %cfg_se_volume_cursor_x,1049+36+(56*0)-23 : jumpf
		if %sfx_vol = 10 mov %cfg_se_volume_cursor_x,1049+36+(56*1)-22 : jumpf
		if %sfx_vol = 20 mov %cfg_se_volume_cursor_x,1049+36+(56*2)-22 : jumpf
		if %sfx_vol = 30 mov %cfg_se_volume_cursor_x,1049+36+(56*3)-22 : jumpf
		if %sfx_vol = 40 mov %cfg_se_volume_cursor_x,1049+36+(56*4)-22 : jumpf
		if %sfx_vol = 50 mov %cfg_se_volume_cursor_x,1049+36+(56*5)-22 : jumpf
		if %sfx_vol = 60 mov %cfg_se_volume_cursor_x,1049+36+(56*6)-22 : jumpf
		if %sfx_vol = 70 mov %cfg_se_volume_cursor_x,1049+36+(56*7)-22 : jumpf
		if %sfx_vol = 80 mov %cfg_se_volume_cursor_x,1049+36+(56*8)-22 : jumpf
		if %sfx_vol = 90 mov %cfg_se_volume_cursor_x,1049+36+(56*9)-22 : jumpf
		if %sfx_vol = 100 mov %cfg_se_volume_cursor_x,1049+36+(56*10)-18 : jumpf
		~

	lsp 205,cfg_slider_cursor,%cfg_se_volume_cursor_x,187+117-20+106  ;1048+36-22 starting x pos
return

*settings_voice_vol
	lsp 208,cfg_slider,1030+36,187+117+(106*2) ;width 600 - usable 564 - 1px = 0.18%

		if %dlg_vol = 0 mov %cfg_voice_volume_cursor_x,1049+36+(56*0)-23 : jumpf
		if %dlg_vol = 10 mov %cfg_voice_volume_cursor_x,1049+36+(56*1)-22 : jumpf
		if %dlg_vol = 20 mov %cfg_voice_volume_cursor_x,1049+36+(56*2)-22 : jumpf
		if %dlg_vol = 30 mov %cfg_voice_volume_cursor_x,1049+36+(56*3)-22 : jumpf
		if %dlg_vol = 40 mov %cfg_voice_volume_cursor_x,1049+36+(56*4)-22 : jumpf
		if %dlg_vol = 50 mov %cfg_voice_volume_cursor_x,1049+36+(56*5)-22 : jumpf
		if %dlg_vol = 60 mov %cfg_voice_volume_cursor_x,1049+36+(56*6)-22 : jumpf
		if %dlg_vol = 70 mov %cfg_voice_volume_cursor_x,1049+36+(56*7)-22 : jumpf
		if %dlg_vol = 80 mov %cfg_voice_volume_cursor_x,1049+36+(56*8)-22 : jumpf
		if %dlg_vol = 90 mov %cfg_voice_volume_cursor_x,1049+36+(56*9)-22 : jumpf
		if %dlg_vol = 100 mov %cfg_voice_volume_cursor_x,1049+36+(56*10)-18 : jumpf
		~

	lsp 207,cfg_slider_cursor,%cfg_voice_volume_cursor_x,187+117-20+(106*2) ;1048+36-22 starting x pos
return

*settings_lower_music_on_d
	if %cfg_lower_music_on_d = 0 lsp 212,cfg_switch_btn,1465,187+53+(%cfg_temp2*4)+%cfg_height : return
	if %cfg_lower_music_on_d = 1 lsp 212,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*4)+%cfg_height : return
return

*settings_lips
	if %animated_lips = 0 lsp 213,cfg_switch_btn,1465,187+53+(%cfg_temp2*5)+%cfg_height : return
	if %animated_lips = 1 lsp 213,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*5)+%cfg_height : return
return

*settings_game_language
	if $Free3 == "en" mov $Free3,"English" : jumpf
	if $Free3 == "wh" mov $Free3,"Witch-Hunt" : jumpf
	if $Free3 == "ru" mov $Free3,"Ð ÑƒÑÑÐºÐ°Ñ" : jumpf
	if $Free3 == "pt" mov $Free3,"PortuguÃªs" : jumpf
	if $Free3 == "cn" mov $Free3,"Chinese Simp." : jumpf
	if $Free3 == "cht" mov $Free3,"Chinese Trad." : jumpf
	if $Free3 == "it" mov $Free3,"Italiano" : jumpf
	~
	write_special_text 311,"config_option",1317,187+64+%cfg_height,$Free3
	lsp 203,left_arrow,1317,187+60+%cfg_height
	lsp 204,right_arrow,1624,187+60+%cfg_height
return

*settings_voice_language
	if %cfg_voice_language = 1 write_special_text 312,"config_option",1317,187+64+%cfg_temp2+%cfg_height,cfg_japanese : mov $voice_folder,"jp" : jumpf
	if %cfg_voice_language = 2 write_special_text 312,"config_option",1317,187+64+%cfg_temp2+%cfg_height,cfg_english : mov $voice_folder,"en" : jumpf
	~
	lsp 205,left_arrow,1317,187+60+%cfg_temp2+%cfg_height
	lsp 206,right_arrow,1624,187+60+%cfg_temp2+%cfg_height
return

*settings_bgm_title_language
	if %bgm_title_language = 1 write_special_text 313,"config_option",1317,187+64+(%cfg_temp2*2)+%cfg_height,cfg_trad : gosub *traditional_bgm_order : jumpf
	if %bgm_title_language = 2 write_special_text 313,"config_option",1317,187+64+(%cfg_temp2*2)+%cfg_height,cfg_trans : gosub *translated_bgm_order : jumpf
	if %bgm_title_language = 3 write_special_text 313,"config_option",1317,187+64+(%cfg_temp2*2)+%cfg_height,cfg_japanese : gosub *japanese_bgm_order : jumpf
	if %bgm_title_language = 4 write_special_text 313,"config_option",1317,187+64+(%cfg_temp2*2)+%cfg_height,cfg_romaji : gosub *romaji_bgm_order : jumpf
	~
	lsp 207,left_arrow,1317,187+60+(%cfg_temp2*2)+%cfg_height
	lsp 208,right_arrow,1624,187+60+(%cfg_temp2*2)+%cfg_height
return

*settings_op_ed_song_subtitles 
	if %op_ed_song_subtitles = 1 write_special_text 314,"config_option",1317,187+64+(%cfg_temp2*3)+%cfg_height,cfg_none : jumpf
	if %op_ed_song_subtitles = 2 write_special_text 314,"config_option",1317,187+64+(%cfg_temp2*3)+%cfg_height,cfg_trans : jumpf
	if %op_ed_song_subtitles = 3 write_special_text 314,"config_option",1317,187+64+(%cfg_temp2*3)+%cfg_height,cfg_romaji : jumpf
	if %op_ed_song_subtitles = 4 write_special_text 314,"config_option",1317,187+64+(%cfg_temp2*3)+%cfg_height,cfg_both : jumpf
	~
	lsp 211,left_arrow,1317,187+60+(%cfg_temp2*3)+%cfg_height
	lsp 212,right_arrow,1624,187+60+(%cfg_temp2*3)+%cfg_height
return

*settings_steam_conventions
	if %cfg_steam_conventions = 0 lsp 213,cfg_switch_btn,1465,187+53+(%cfg_temp2*4)+%cfg_height : return
	if %cfg_steam_conventions = 1 lsp 213,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*4)+%cfg_height : return
return

*settings_sprite_type
	if %cfg_sprite_type_index = 1 write_special_text 311,"config_option",1317,187+64+%cfg_height,cfg_sprites_original: mov $sprite_folder_name,"original" : jumpf
	if %cfg_sprite_type_index = 2 write_special_text 311,"config_option",1317,187+64+%cfg_height,cfg_sprites_pachinko : mov $sprite_folder_name,"pachinko" : jumpf
	if %cfg_sprite_type_index = 3 write_special_text 311,"config_option",1317,187+64+%cfg_height,cfg_sprites_ps3 : mov $sprite_folder_name,"ps3" : jumpf
	~
	lsp 203,left_arrow,1317,187+60+%cfg_height
	lsp 204,right_arrow,1624,187+60+%cfg_height
	;config_write_str "sprite_folder_name",$sprite_folder_name
	gosub *reload_slots
return

*settings_textbox
	if %msgwnd_type = 0 write_special_text 312,"config_option",1317,187+64+%cfg_temp2+%cfg_height,cfg_txtbox_black : jumpf
	if %msgwnd_type = 1 write_special_text 312,"config_option",1317,187+64+%cfg_temp2+%cfg_height,cfg_txtbox_butterfly : jumpf
	if %msgwnd_type = 2 write_special_text 312,"config_option",1317,187+64+%cfg_temp2+%cfg_height,cfg_txtbox_classic : jumpf
	if %msgwnd_type = 3 write_special_text 312,"config_option",1317,187+64+%cfg_temp2+%cfg_height,cfg_txtbox_transp : jumpf
	if %msgwnd_type = 4 write_special_text 312,"config_option",1317,187+64+%cfg_temp2+%cfg_height,cfg_txtbox_umigold : jumpf
	~
	;mov $test_var,"*msgwnd_"+$cur_character : gosub $test_var
	lsp 205,left_arrow,1317,187+60+%cfg_temp2+%cfg_height
	lsp 206,right_arrow,1624,187+60+%cfg_temp2+%cfg_height
return

*settings_bg_type
	if %cfg_bg_type_index = 1 write_special_text 313,"config_option",1317,187+64+(%cfg_temp2*2)+%cfg_height,cfg_sprites_original : mov $bg_folder_name,"original" : jumpf
	if %cfg_bg_type_index = 2 write_special_text 313,"config_option",1317,187+64+(%cfg_temp2*2)+%cfg_height,cfg_sprites_ps3 : mov $bg_folder_name,"ps3" : jumpf
	~
	lsp 207,left_arrow,1317,187+60+(%cfg_temp2*2)+%cfg_height
	lsp 208,right_arrow,1624,187+60+(%cfg_temp2*2)+%cfg_height
	;config_write_str "bg_folder_name",$bg_folder_name
	gosub *reload_slots
return

*settings_book_mode
	if %cfg_book_mode = 0 lsp 211,cfg_switch_btn,1465,187+53+(%cfg_temp2*3)+%cfg_height : return
	if %cfg_book_mode = 1 lsp 211,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*3)+%cfg_height : return
return

*settings_bg_movement
	if %cfg_bg_movement = 0 lsp 212,cfg_switch_btn,1465,187+53+(%cfg_temp2*4)+%cfg_height : return
	if %cfg_bg_movement = 1 lsp 212,cfg_switch_btn_selected,1465,187+53+(%cfg_temp2*4)+%cfg_height : return
return

;SETTINGS SUBS END =============================================================================================

;SETTINGS DISABLE VOICES SUB-MENU ==============================================================================

*settings_voices_submenu
	_csp 330 : _csp 331 : _csp 332 : _csp 333 : _csp 334 ;Remove sections
	_csp 321 : _csp 322 : _csp 323 : _csp 324 : _csp 325 : _csp 326 ;Remove focus lines
	_csp 103 ;Remove exit btn
	_csp 104 ;Remove restore btn

	;cfg_rewrite section btns
	lsp 371,cfg_section_btn,155+10,85+%cfg_height
	lsp 372,cfg_section_btn,155+316+10,85+%cfg_height
	lsp 373,cfg_section_btn,155+(316*2)+10,85+%cfg_height
	lsp 374,cfg_section_btn,155+(316*3)+10,85+%cfg_height
	lsp 375,cfg_section_btn,155+(316*4)+10,85+%cfg_height

	gosub *clear_config_options
	gosub *settings_voice_vol_chars
	write_special_text 301,"config_option_name",%cfg_temp1,187+62+%cfg_height,cfg_mute_voices_desc

*settings_voices_submenu_loop

	btndef ""

	if %cfg_current_page != 1 spbtn 371,330 
	if %cfg_current_page != 2 spbtn 372,331
	if %cfg_current_page != 3 spbtn 373,332
	if %cfg_current_page != 4 spbtn 374,333 
	if %cfg_current_page != 5 spbtn 375,334 

	;Voice vol chars button
	spbtn 315,100
	spbtn 316,101
	spbtn 317,102
	spbtn 318,103
	spbtn 319,104
	spbtn 320,105
	spbtn 321,106
	spbtn 322,107
	spbtn 323,108
	spbtn 324,109
	spbtn 325,110	
	spbtn 326,111	
	spbtn 327,112	
	spbtn 328,113	
	spbtn 329,114	
	spbtn 330,115
	spbtn 331,116
	spbtn 332,117
	spbtn 333,118
	spbtn 334,119
	spbtn 335,120
	spbtn 336,121
	spbtn 337,122
	spbtn 338,123
	spbtn 339,124
	spbtn 340,125
	spbtn 341,126
	spbtn 342,127
	spbtn 343,128
	spbtn 344,129
	spbtn 345,130
	spbtn 346,131
	spbtn 347,132
	spbtn 348,133
	spbtn 349,134
	spbtn 350,135
	spbtn 351,136
	spbtn 352,137
	spbtn 353,138
	spbtn 354,139
	spbtn 355,140
	spbtn 356,141
	spbtn 357,142
	spbtn 358,143
	spbtn 359,144
	spbtn 360,145
	spbtn 361,146
	spbtn 362,147
	spbtn 363,148
	spbtn 364,149
	spbtn 365,150
	spbtn 366,151
	spbtn 367,152
	spbtn 368,153
	spbtn 369,154
	spbtn 370,155
	;end

	btndown 0

	btnwait %BtnRes

	mov %vv_inc,0
	mov %Free1,135+19
	mov %x,%Free1
	mov %y,520-47
	mov %y2,17 ;first row has 17
	mov %x2,0 ;start sprite
	mov %x3,0 ;end sprite
	mov %y3,0 ;row sprite count

	if %BtnRes = -1 gosub *clear_config_submenu : goto *cfg_rewrite ;Exit by right-clicking
	if %BtnRes != -10 jumpf ;Exit by ESC
		if %game_lang_changed != 0 || %display_mode_changed != 0 || %wnd_size_changed != 0 || %renderer_changed != 0 goto *settings_exit_confirm : jumpf
		goto *settings_end 
	~
	if %BtnRes = 0  goto *settings_voices_submenu_loop

	if %BtnRes = 330 mov %cfg_current_page,1 : gosub *clear_config_submenu : goto *cfg_rewrite
	if %BtnRes = 331 mov %cfg_current_page,2 : gosub *clear_config_submenu : goto *cfg_rewrite
	if %BtnRes = 332 mov %cfg_current_page,3 : gosub *clear_config_submenu : goto *cfg_rewrite
	if %BtnRes = 333 mov %cfg_current_page,4 : gosub *clear_config_submenu : goto *cfg_rewrite
	if %BtnRes = 334 mov %cfg_current_page,5 : gosub *clear_config_submenu : goto *cfg_rewrite

	if %BtnRes != 100 jumpf
		if %vv_cla = 1 mov %vv_cla,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_cla = 2 mov %vv_cla,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\02\50800292.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 101 jumpf
		if %vv_nat = 1 mov %vv_nat,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_nat = 2 mov %vv_nat,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\03\50900927.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 102 jumpf
		if %vv_jes = 1 mov %vv_jes,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_jes = 2 mov %vv_jes,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\04\50200034.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 103 jumpf
		if %vv_eva = 1 mov %vv_eva,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_eva = 2 mov %vv_eva,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\05\51000334.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 104 jumpf
		if %vv_hid = 1 mov %vv_hid,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_hid = 2 mov %vv_hid,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\06\51100191.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 105 jumpf
		if %vv_geo = 1 mov %vv_geo,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_geo = 2 mov %vv_geo,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\07\50300029.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 106 jumpf
		if %vv_rud = 1 mov %vv_rud,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rud = 2 mov %vv_rud,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\08\51200233.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 107 jumpf
		if %vv_kir = 1 mov %vv_kir,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_kir = 2 mov %vv_kir,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\09\51300152.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 108 jumpf
		if %vv_but = 1 mov %vv_but,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_but = 2 mov %vv_but,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\10\40100556.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 109 jumpf
		if %vv_ros = 1 mov %vv_ros,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_ros = 2 mov %vv_ros,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\12\51400112.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 110 jumpf
		if %vv_mar = 1 mov %vv_mar,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_mar = 2 mov %vv_mar,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\13\50400034.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 111 jumpf
		if %vv_kin = 1 mov %vv_kin,2:mov %vv_ki2,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_kin = 2 mov %vv_kin,1:mov %vv_ki2,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\01\51500238.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 112 jumpf
		if %vv_nan = 1 mov %vv_nan,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_nan = 2 mov %vv_nan,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\19\51900077.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 113 jumpf
		if %vv_gen = 1 mov %vv_gen,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_gen = 2 mov %vv_gen,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\14\51600110.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 114 jumpf
		if %vv_kum = 1 mov %vv_kum,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_kum = 2 mov %vv_kum,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\18\51800076.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 115 jumpf
		if %vv_goh = 1 mov %vv_goh,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_goh = 2 mov %vv_goh,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\17\51700095.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 116 jumpf
		if %vv_sha = 1 mov %vv_sha,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_sha = 2 mov %vv_sha,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\15\50500065.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 117 jumpf
		if %vv_kan = 1 mov %vv_kan,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_kan = 2 mov %vv_kan,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\16\50600081.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 118 jumpf
		if %vv_bea = 1 mov %vv_bea,2:mov %vv_be2,2:mov %vv_be3,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_bea = 2 mov %vv_bea,1:mov %vv_be2,1:mov %vv_be3,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\27\20700021.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 119 jumpf
		if %vv_ber = 1 mov %vv_ber,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_ber = 2 mov %vv_ber,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\28\92100252.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 120 jumpf
		if %vv_eri = 1 mov %vv_eri,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_eri = 2 mov %vv_eri,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\46\54500010.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 121 jumpf
		if %vv_lam = 1 mov %vv_lam,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_lam = 2 mov %vv_lam,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\29\52200497.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 122 jumpf
		if %vv_enj = 1 mov %vv_enj,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_enj = 2 mov %vv_enj,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\11\42001574.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 123 jumpf
		if %vv_wal = 1 mov %vv_wal,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_wal = 2 mov %vv_wal,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\30\53200236.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 124 jumpf
		if %vv_ev2 = 1 mov %vv_ev2,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_ev2 = 2 mov %vv_ev2,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\34\33300003.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 125 jumpf
		if %vv_ron = 1 mov %vv_ron,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_ron = 2 mov %vv_ron,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\31\53100157.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 126 jumpf
		if %vv_rg1 = 1 mov %vv_rg1,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rg1 = 2 mov %vv_rg1,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\38\32300041.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 127 jumpf
		if %vv_rg2 = 1 mov %vv_rg2,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rg2 = 2 mov %vv_rg2,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\39\32400048.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 128 jumpf
		if %vv_rg3 = 1 mov %vv_rg3,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rg3 = 2 mov %vv_rg3,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\40\42500001.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 129 jumpf
		if %vv_rg4 = 1 mov %vv_rg4,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rg4 = 2 mov %vv_rg4,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\41\32600026.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 130 jumpf
		if %vv_rg5 = 1 mov %vv_rg5,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rg5 = 2 mov %vv_rg5,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\42\42700385.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 131 jumpf
		if %vv_rg6 = 1 mov %vv_rg6,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rg6 = 2 mov %vv_rg6,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\43\42800016.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 132 jumpf
		if %vv_rg7 = 1 mov %vv_rg7,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rg7 = 2 mov %vv_rg7,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\44\42900001.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 133 jumpf
		if %vv_sak = 1 mov %vv_sak,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_sak = 2 mov %vv_sak,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\33\44200009.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 134 jumpf
		if %vv_gap = 1 mov %vv_gap,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_gap = 2 mov %vv_gap,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\32\53700161.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 135 jumpf
		if %vv_s00 = 1 mov %vv_s00,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_s00 = 2 mov %vv_s00,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\37\43600001.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 136 jumpf
		if %vv_s41 = 1 mov %vv_s41,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_s41 = 2 mov %vv_s41,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\36\43500001.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 137 jumpf
		if %vv_s45 = 1 mov %vv_s45,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_s45 = 2 mov %vv_s45,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\35\43400001.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 138 jumpf
		if %vv_dla = 1 mov %vv_dla,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_dla = 2 mov %vv_dla,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\47\54600002.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 139 jumpf
		if %vv_cor = 1 mov %vv_cor,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_cor = 2 mov %vv_cor,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\49\54700056.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 140 jumpf
		if %vv_ger = 1 mov %vv_ger,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_ger = 2 mov %vv_ger,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\48\54800049.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 141 jumpf
		if %vv_zep = 1 mov %vv_zep,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_zep = 2 mov %vv_zep,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\51\65100042.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 142 jumpf
		if %vv_fur = 1 mov %vv_fur,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_fur = 2 mov %vv_fur,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\52\65200038.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 143 jumpf
		if %vv_ama = 1 mov %vv_ama,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_ama = 2 mov %vv_ama,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\20\43000047.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 144 jumpf
		if %vv_bu3 = 1 mov %vv_bu3,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_bu3 = 2 mov %vv_bu3,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\56\64900002.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 145 jumpf
		if %vv_fea = 1 mov %vv_fea,2:mov %vv_fe2,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_fea = 2 mov %vv_fea,1:mov %vv_fe2,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\50\65000057.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 146 jumpf
		if %vv_wil = 1 mov %vv_wil,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_wil = 2 mov %vv_wil,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\54\75400183.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 147 jumpf
		if %vv_rio = 1 mov %vv_rio,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_rio = 2 mov %vv_rio,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\53\75300002.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 148 jumpf
		if %vv_cur = 1 mov %vv_cur,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_cur = 2 mov %vv_cur,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\55\75500003.ogg":gosub *settings_voice_vol_chars:jumpf
		gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 149 jumpf
		if %vv_goa = 1 mov %vv_goa,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_goa = 2 mov %vv_goa,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\45\yagim2001.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 150 jumpf
		if %vv_kas = 1 mov %vv_kas,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_kas = 2 mov %vv_kas,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\22\44300054.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 151 jumpf
		if %vv_oko = 1 mov %vv_oko,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_oko = 2 mov %vv_oko,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\21\44100146.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 152 jumpf
		if %vv_ku2 = 1 mov %vv_ku2,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_ku2 = 2 mov %vv_ku2,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\26\44000020.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 153 jumpf
		if %vv_pro = 1 mov %vv_pro,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_pro = 2 mov %vv_pro,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\23\44400089.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 154 jumpf
		if %vv_na2 = 1 mov %vv_na2,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_na2 = 2 mov %vv_na2,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\25\43900007.ogg":gosub *settings_voice_vol_chars:jumpf
	~
	if %BtnRes != 155 jumpf
		if %vv_99 = 1 mov %vv_99,2:mov %vv_0,2:mov %vv_98,2:mov %vv_97,2:gosub *settings_voice_vol_chars:jumpf
		if %vv_99 = 2 mov %vv_99,1:chvol 0,%dlg_vol:dwave 0,"sound\voice\"+$voice_folder+"\99\anaf1001.ogg":mov %vv_0,1:mov %vv_98,2:mov %vv_97,1:gosub *settings_voice_vol_chars:jumpf
		gosub *settings_voice_vol_chars:jumpf
	~

goto *settings_voices_submenu_loop
*settings_voices_submenu_loop_end

return

*settings_voice_vol_chars
	mov %vv_inc,0
	mov %Free1,135+19
	mov %x,%Free1
	mov %y,520-47
	mov %y2,17 ;first row has 17
	mov %x2,0 ;start sprite
	mov %x3,0 ;end sprite
	mov %y3,0 ;row sprite count

	mov %temp_var5,315

	if %vv_cla = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kla0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_cla = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kla0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_nat = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_nat0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_nat = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_nat0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_jes = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_jes0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_jes = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_jes0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_eva = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_eva0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_eva = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_eva0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_hid = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_hid0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_hid = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_hid0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_geo = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_geo0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_geo = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_geo0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rud = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rud0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rud = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rud0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_kir = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kir0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_kir = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kir0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_but = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_but0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_but = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_but0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_ros = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ros0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_ros = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ros0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_mar = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_mar0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_mar = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_mar0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_kin = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kin0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_kin = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kin0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_nan = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_nan0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_nan = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_nan0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_gen = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_gen0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_gen = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_gen0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_kum = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kum0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_kum = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kum0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_goh = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_goh0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_goh = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_goh0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_sha = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sha0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_sha = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sha0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_kan = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kan0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_kan = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kan0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_bea = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_bea0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_bea = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_bea0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_ber = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ber0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_ber = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ber0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_eri = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_eri0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_eri = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_eri0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_lam = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_lam0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_lam = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_lam0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_enj = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_enj0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_enj = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_enj0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_wal = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_wal0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_wal = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_wal0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_ev2 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_evb0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_ev2 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_evb0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_ron = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ron0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_ron = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ron0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rg1 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rg1 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rg2 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk1.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rg2 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk1.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rg3 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk2.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rg3 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk2.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rg4 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk3.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rg4 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk3.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rg5 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk4.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rg5 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk4.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rg6 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk5.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rg6 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk5.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rg7 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk6.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rg7 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rgk6.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_sak = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sak0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_sak = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sak0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_gap = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_gap0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_gap = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_gap0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_s00 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sie0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_s00 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sie0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_s41 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sie1.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_s41 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sie1.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_s45 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sie2.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_s45 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sie2.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_dla = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_dla1.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_dla = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_dla1.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_cor = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_cor0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_cor = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_cor0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_ger = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_gur0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_ger = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_gur0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_zep = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_zep0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_zep = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_zep0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_fur = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ful0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_fur = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ful0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_ama = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ama0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_ama = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_ama0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_bu3 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_fea0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_bu3 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_fea0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_fea = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_fea1.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_fea = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_fea1.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_wil = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_wil0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_wil = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_wil0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_rio = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rio0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_rio = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_rio0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_cur = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_cur0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_cur = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_cur0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_goa = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_goa0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_goa = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_goa0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5

	if %vv_kas = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kas0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_kas = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_kas0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_oko = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_oko0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_oko = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_oko0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_ku2 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sab0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_ku2 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_sab0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_pro = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_pro0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_pro = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_pro0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	if %vv_na2 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_mas0.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_na2 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_mas0.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5

	if %vv_99 = 1 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_99.png",%x,%y : mov %vv_inc,%temp_var5
	if %vv_99 = 2 lsp %temp_var5,":c/1,0,3;graphics\portraits\"+$sprite_folder_name+"\mute\chars_99.png",%x,%y,90 : mov %vv_inc,%temp_var5
	gosub *settings_chars_refresh : inc %temp_var5
	gosub *settings_chars_realign
return

*settings_chars_refresh
	if %vv_inc == 0 return ;nothing added

	if %x2 == 0 mov %x2,%vv_inc ;first sprite in a row
	mov %x3,%vv_inc ;last sprite in a row
	
	add %x,95 ;cell width
	inc %y3

	if %x < %y2*95+%Free1 jumpf
		;rondo has smaller second row
		;if %CHIRU_MODE = 0 && %y2 == 17 dec %y2 : add %Free1,47
		mov %x,%Free1
		add %y,107 ;cell height
		mov %x2,0
		mov %x3,0
		mov %y3,0
	~

	mov %vv_inc,0
return

*settings_chars_realign
	;do not align first line or complete table
	if %x2 == 0 || %y == 520 return
	;the line is complete
	if %x >= %y2*95+%Free1 return

	;deltax = Ð´Ð»Ð¸Ð½Ð°_Ñ€ÑÐ´Ð° - (ÑˆÐ¸Ñ€Ð¸Ð½Ð°_ÑÑ‡ÐµÐ¹ÐºÐ¸ * (endSp - startSp)) / 2;

	mul %y3,95
	mov %x,%y2*95-%y3
	div %x,2

	~
		if %x2 > %x3 return
		msp %x2,%x,0
		inc %x2
		jumpb
return

;SETTINGS DISABLE VOICES SUB-MENU END ==========================================================================

*clear_config_options
	;Option Buttons
	_csp 203
	_csp 204
	_csp 205
	_csp 206
	_csp 207
	_csp 208 : _csp 209 ;These are lsph, can't be buttons
	_csp 210
	_csp 211
	_csp 212
	_csp 213
	_csp 214
	_csp 215
	_csp 311 : _csp 312 : _csp 313 : _csp 314

	_csp 301 : _csp 302 : _csp 303 : _csp 304 : _csp 305 : _csp 306 ;Option Names

	csp_text gen_txt_6
return

*clear_config_submenu

	_csp 315
	_csp 316
	_csp 317
	_csp 318
	_csp 319
	_csp 320
	_csp 321
	_csp 322
	_csp 323
	_csp 324
	_csp 325
	_csp 326
	_csp 327
	_csp 328
	_csp 329
	_csp 371
	_csp 372
	_csp 373
	_csp 374
	_csp 375
	_csp 335
	_csp 336
	_csp 337
	_csp 338
	_csp 339
	_csp 340
	_csp 341
	_csp 342
	_csp 343
	_csp 344
	_csp 345
	_csp 346
	_csp 347
	_csp 348
	_csp 349
	_csp 350
	_csp 351
	_csp 352
	_csp 353
	_csp 354
	_csp 355
	_csp 356
	_csp 357
	_csp 358
	_csp 359
	_csp 360
	_csp 361
	_csp 362
	_csp 363
	_csp 364
	_csp 365
	_csp 366
	_csp 367
	_csp 368
	_csp 369
	_csp 370

return 

*settings_exit_confirm
	_csp 330 : _csp 331 : _csp 332 : _csp 333 : _csp 334 ;Remove sections
	_csp 321 : _csp 322 : _csp 323 : _csp 324 : _csp 325 : _csp 326 ;Remove focus lines
	_csp 103 ;Remove exit btn
	_csp 104 ;Remove restore btn
	csp_text gen_txt_1 : csp_text gen_txt_2 : csp_text gen_txt_3 : csp_text gen_txt_4 : csp_text gen_txt_5 ;Remove section titles

	gosub *clear_config_options
	write_special_text 301,"cfg_exit_confirm",0,187+58+(%cfg_temp2*2)+%cfg_height,cfg_exit_confirm_desc

	lsp 302,cfg_sub_btn,1584-705,187+58+(%cfg_temp2*3)+%cfg_height
	write_special_text gen_txt_6,"submenu_btn_title",1584-705,187+58+(%cfg_temp2*3)+%cfg_height,cfg_ok

*settings_exit_confirm_loop

	btndef ""

	spbtn 302,100

	btndown 0

	btnwait %BtnRes

	if %BtnRes = -1 gosub *clear_config_options : gosub *clear_config_submenu : goto *cfg_rewrite ;Return to settings
	if %BtnRes = -10 gosub *clear_config_options : gosub *clear_config_submenu : goto *cfg_rewrite ;Return to settings
	if %BtnRes = 0  goto *settings_exit_confirm_loop

	if %BtnRes = 100 goto *settings_end

goto *settings_exit_confirm_loop
*settings_exit_confirm_loop_end

return

*settings_end
	for %tmp = 100 to config_main_lsp2 : _csp %tmp : _csp2 %tmp next
	_csp 451
	csp_text gen_txt_1 : csp_text gen_txt_2 : csp_text gen_txt_3 : csp_text gen_txt_4 : csp_text gen_txt_5 : csp_text gen_txt_6
	gosub *clear_config_options
	gosub *clear_config_submenu
	seplay 9,1005,100 : wait 50
	border_pad_pop
	dwavestop 0
	gosub *apply_msgwnd_settings
return

*settings_full_reset

	;System
	;Display settings - choosen on startup
	;Renderer - choosen on startup
	;Input Mode - choosen on startup
	mov %cfg_menu_anim,1
	mov %enable_cache,1
	mov %hide_textbox,0

	;Game
	mov %textspeed,7 : mov %textspeed2,7
	mov %automodespeed,-43
	mov %rumble_strength,20
	mov %cfg_chapter_display,0 : mov %cfg_bgm_display,1
	mov %skip_unread,1
	mov %cfg_rm_sex_content_index,0 ;Keep Original

	;Sound
	mov %bgm_vol,50
	mov %sfx_vol,50
	mov %dlg_vol,70 
	;Mute specific characters - no init required
	mov %cfg_lower_music_on_d,0
	mov %animated_lips,1

	;Language
	;Language - choosen on startup
	mov %cfg_voice_language,1 ;Japanese
	mov %bgm_title_language,1 ;English
	mov %op_ed_song_subtitles,2 ;Translation
	mov %cfg_steam_conventions,0 ;TODO actually choose the initial setting

	;Graphics
	mov %cfg_sprite_type_index,3
	mov %msgwnd_type,0 ;Black
	mov %cfg_bg_type_index,2
	mov %cfg_book_mode,0
	mov %cfg_bg_movement,0
	
	mov %old_wording,1 ;This shouldn't have any use, so better not touch it
	mov %video_res,0
	mov %sskip_turbo,0 ;Foundamental
return